Para completar la funcionalidad de la aplicación y asegurar el "Siguiente Nivel" de seguridad legal, procederé con las siguientes implementaciones:

### 1. Actualización del Frontend (Interfaz de Firma)

Actualizaré la página de firma (`apps/web/src/app/[locale]/split-sheet/[id]/sign/page.tsx`) para integrar el nuevo flujo de seguridad:

* **Solicitud de OTP**: Cuando el usuario haga clic en "Firmar", el sistema solicitará automáticamente el código de verificación al correo.

* **Modal de Verificación**: Se mostrará un campo para ingresar el código de 6 dígitos recibido.

* **Envío Seguro**: La firma se enviará junto con el código OTP y los metadatos del dispositivo (IP, Navegador) para su validación en el backend.

### 2. Base de Datos (Migración)

Generaré un archivo de migración SQL (`security_update.sql`) para actualizar la base de datos con las nuevas columnas necesarias para la seguridad forense:

* `collaborator`

  * `user_agent` (Texto)

  * `signature_hash` (Texto)

  * `otp_verified` (Booleano)

* `split_sheet`

  * `invite_token` (Texto, si faltaba)

### 3. Verificación de Integración

* Aseguraré que el cliente API del frontend maneje correctamente los errores de OTP (código inválido/expirado).

* Verificaré que la experiencia de usuario sea fluida a pesar de la capa extra de seguridad.

Esta implementación conectará los cambios de seguridad del backend que realicé anteriormente con la interfaz de usuario, haciendo la aplicación 100% funcional y segura.

seguire las instrucciones de despliegue que hay para actulizar en git y desplegar la actulizacion ene el servidor 
